<?php


namespace App\Service;
use PHPUnit\Framework\TestCase;
use PHPUnit\Framework\MockObject\MockObject;
use League\Flysystem\FilesystemOperator;


class FileUploaderUnitTest extends TestCase
{

    public function testSuccessUploadBase64File()
    {
        
        $base64Image = 
        "data:image/jpeg;base64,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";
        $data = explode(',', $base64Image);
        /**
         * @var FilesystemOperator&MockObject
         */
        $filesystem = $this->getMockBuilder(FilesystemOperator::class)
            ->disableOriginalConstructor()
            ->getMock();
        $filesystem
            ->expects(self::exactly(1))
            ->method('write')
            ->with($this->isType('string'),  base64_decode($data[1]));

        $fileUploader = new FileUploader($filesystem);
        $filename = $fileUploader->uploadBase64File($base64Image);
        $this->assertNotEmpty($filename);
        $this->assertStringContainsString('.jpeg', $filename);
    }
}
?>